FUNC void qsort 
CREATE_TABLE   
PARAM int l 
PARAM int r 
PARAM int n 
CREATE_TABLE   
VAR int i 
ASSIGN l i 
VAR int j 
ASSIGN r j 
VAR int key 
TEMP int ?temp_0 
RDARR a l ?temp_0
ASSIGN ?temp_0 key 
CREATE_TABLE   
VAR int i 
ASSIGN 0 i 
LABEL .label_0  
TEMP int ?temp_1 
LT i n ?temp_1
CMP ?temp_1 0 
JE .label_1  
SAVE_REG   
TEMP int ?temp_2 
RDARR a i ?temp_2
PRINT int ?temp_2 
PRINT char 32 
RESTORE_REG   
INC i  
JMP .label_0  
LABEL .label_1  
DESTROY_TABLE   
SAVE_REG   
PRINT string ?string_0 
RESTORE_REG   
SAVE_REG   
PRINT int l 
PRINT string ?string_1 
PRINT int key 
PRINT string ?string_1 
TEMP int ?temp_3 
RDARR a l ?temp_3
PRINT int ?temp_3 
PRINT string ?string_0 
RESTORE_REG   
LABEL .label_2  
TEMP int ?temp_4 
LT i j ?temp_4
CMP ?temp_4 0 
JE .label_3  
CREATE_TABLE   
LABEL .label_4  
TEMP int ?temp_5 
LT i j ?temp_5
TEMP int ?temp_6 
RDARR a j ?temp_6
TEMP int ?temp_7 
GE ?temp_6 key ?temp_7
TEMP int ?temp_8 
LOGI_AND ?temp_5 ?temp_7 ?temp_8
CMP ?temp_8 0 
JE .label_5  
CREATE_TABLE   
DEC j  
DESTROY_TABLE   
JMP .label_4  
LABEL .label_5  
TEMP int ?temp_9 
LT i j ?temp_9
CMP ?temp_9 0 
JE .label_6  
CREATE_TABLE   
TEMP int ?temp_10 
RDARR a j ?temp_10
WRARR a i ?temp_10
INC i  
DESTROY_TABLE   
JMP .label_7  
LABEL .label_6  
LABEL .label_7  
LABEL .label_8  
TEMP int ?temp_11 
LT i j ?temp_11
TEMP int ?temp_12 
RDARR a i ?temp_12
TEMP int ?temp_13 
LT ?temp_12 key ?temp_13
TEMP int ?temp_14 
LOGI_AND ?temp_11 ?temp_13 ?temp_14
CMP ?temp_14 0 
JE .label_9  
CREATE_TABLE   
INC i  
DESTROY_TABLE   
JMP .label_8  
LABEL .label_9  
TEMP int ?temp_15 
LT i j ?temp_15
CMP ?temp_15 0 
JE .label_10  
CREATE_TABLE   
TEMP int ?temp_16 
RDARR a i ?temp_16
WRARR a j ?temp_16
DEC j  
DESTROY_TABLE   
JMP .label_11  
LABEL .label_10  
LABEL .label_11  
WRARR a i key
SAVE_REG   
TEMP int ?temp_17 
SUB i 1 ?temp_17
PUSH int n 
PUSH int ?temp_17 
PUSH int l 
CALL qsort  
RESTORE_STACK 3  
RESTORE_REG   
SAVE_REG   
TEMP int ?temp_18 
ADD i 1 ?temp_18
PUSH int n 
PUSH int r 
PUSH int ?temp_18 
CALL qsort  
RESTORE_STACK 3  
RESTORE_REG   
DESTROY_TABLE   
JMP .label_2  
LABEL .label_3  
DESTROY_TABLE   
DESTROY_TABLE   
END   
FUNC void main 
CREATE_TABLE   
VAR int n 
FLUSH_REG   
SCAN int n 
FLUSH_REGTABLE   
CREATE_TABLE   
VAR int i 
ASSIGN 0 i 
LABEL .label_12  
TEMP int ?temp_19 
LT i n ?temp_19
CMP ?temp_19 0 
JE .label_13  
FLUSH_REG   
TEMP int ?temp_20 
SCAN int ?temp_20 
WRARR a i ?temp_20
FLUSH_REGTABLE   
INC i  
JMP .label_12  
LABEL .label_13  
DESTROY_TABLE   
SAVE_REG   
TEMP int ?temp_21 
SUB n 1 ?temp_21
PUSH int n 
PUSH int ?temp_21 
PUSH int 0 
CALL qsort  
RESTORE_STACK 3  
RESTORE_REG   
CREATE_TABLE   
VAR int i 
ASSIGN 0 i 
LABEL .label_14  
TEMP int ?temp_22 
LT i n ?temp_22
CMP ?temp_22 0 
JE .label_15  
SAVE_REG   
TEMP int ?temp_23 
RDARR a i ?temp_23
PRINT int ?temp_23 
PRINT char 32 
RESTORE_REG   
INC i  
JMP .label_14  
LABEL .label_15  
DESTROY_TABLE   
SAVE_REG   
PRINT string ?string_0 
RESTORE_REG   
RET 0  
DESTROY_TABLE   
END   

